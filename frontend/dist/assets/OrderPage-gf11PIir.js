import{r as i,O as x,P as j,U as m,j as s,F as h,R as u}from"./index-BQlZyj7B.js";const g=()=>{const{orders:c,shippedFunction:a,orderRemove:n,getOrders:l}=i.useContext(x),{products:o}=i.useContext(j),{loggedinUser:r}=i.useContext(m);return i.useEffect(()=>{l()},[]),s.jsxs("div",{className:"orderPage",children:[typeof c!="string"?s.jsxs("div",{className:"orderPageDiv",children:[c.map(e=>s.jsx("div",{children:s.jsxs("div",{className:"order",children:[s.jsxs("div",{className:"orderInfo",children:[r.is_admin&&s.jsxs("div",{children:[s.jsxs("p",{children:["Kund: ",r.username]}),s.jsx("p",{children:"Leveransadress:"}),s.jsx("p",{children:e.address.line1}),s.jsx("p",{children:e.address.postal_code}),s.jsx("p",{children:e.address.city})]}),s.jsxs("p",{children:["Orderdatum: ",e.date]}),s.jsx("p",{style:{color:e.shipped?"green":"red"},onClick:()=>r.is_admin&&a(e),children:e.shipped?"Skickad":"Ej skickad"})]}),e.productList.map(t=>{const d=o.find(p=>p._id==t.productId);return d?s.jsxs("div",{className:"product",children:[s.jsx("img",{src:`../../../src/assets/${d.product_image}`,alt:d.product_image}),s.jsxs("div",{className:"productInfo",children:[s.jsx("p",{children:d.product_title}),s.jsxs("div",{className:"productPrice",children:[s.jsxs("p",{children:[d.product_price,",00 SEK"]}),s.jsx("div",{className:"quantity",children:t.quantity})]})]})]},d._id):null}),s.jsxs("div",{className:"orderInfo",children:[s.jsxs("p",{children:[e.total_price,",00 SEK"]}),r.is_admin&&s.jsxs("button",{className:"orderRemove",onClick:()=>n(e._id),children:[s.jsx(h,{style:{cursor:"pointer"}})," Arkivera"]})]})]})},e._id)),s.jsx("div",{className:"OrderPageDivBottom"})]}):s.jsx("div",{className:"OrderPageEmpty",children:s.jsx("p",{children:c})}),s.jsx("div",{className:"orderPageBottom",children:s.jsx(u,{})})]})};export{g as default};
